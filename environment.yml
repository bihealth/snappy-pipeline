channels:
  - conda-forge
  - bioconda
  - defaults

name: snappy_env

dependencies:

  # Fundamentals
  - python=3.12
  - pip
  - git-lfs

  # pydantic is used to validate configuration files
  - pydantic =2.7

  # Snakemake is used for providing the actual wrapper calling functionality
  - snakemake =7

  # Additional libraries used by snappy
  - ruamel.yaml             # Nice, round-trip enabled YAML parsing
  - fasteners               # File-based locks
  - termcolor               # Helpful for CLIs
  - matplotlib              # Required for plotting
  - jinja2                  # Jinja 2 template rendering

  # Bioinformatics-related libraries used by snappy
  - htslib >=1.15
  - bcftools >=1.15
  - samtools >=1.15

  # Parsing of ISA-tab
  - altamisa

  # CUBI libraries required by snappy (installed through pip)
  - pip:
    - varfish-cli >=0.6.3
    # We're trying to keep the PyPi package up to date, you might have to install
    # from source, though.
    # - biomedsheets >=0.11.7
    # â€¦ which is what we do here:
    - git+https://github.com/bihealth/biomedsheets.git@4e0a8484850c39d1511036c3fe29ec0b4f9271f8
    - pysam >=0.22
    - vcfpy >=0.13.8
